# –ó–∞–¥–∞–Ω–∏–µ ‚Ññ8
# üìå –°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–π –±—É–¥–µ—Ç —Ñ–æ—Ä–º–∞ –¥–ª—è –≤–≤–æ–¥–∞ –∏–º–µ–Ω–∏
# –∏ –∫–Ω–æ–ø–∫–∞ "–û—Ç–ø—Ä–∞–≤–∏—Ç—å"
# üìå –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É –±—É–¥–µ—Ç –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–æ
# –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å flash —Å–æ–æ–±—â–µ–Ω–∏–µ–º, –≥–¥–µ –±—É–¥–µ—Ç
# –≤—ã–≤–µ–¥–µ–Ω–æ "–ü—Ä–∏–≤–µ—Ç, {–∏–º—è}!".

from pathlib import PurePath, Path

from flask import Flask, request, render_template, flash, redirect, url_for
from werkzeug.utils import secure_filename
import secrets

secrets.token_hex()


app = Flask(__name__)
app.secret_key = b'5f214cacbd30c2ae4784b520f17912ae0d5d8c16ae98128e3f549546221265e4'

@app.route('/')
@app.route('/index/')
def html_index():
    return render_template('index.html')

@app.route('/hello_world/')
def hello():
    return 'Hello world!'

@app.route('/redirect/')
def redirect_to_index():
    return redirect(url_for('html_index'))


@app.route('/form', methods=['GET', 'POST'])
def form():
    if request.method == 'POST':
        # –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö —Ñ–æ—Ä–º—ã
        if not request.form['name']:
            flash('–í–≤–µ–¥–∏—Ç–µ –∏–º—è!', 'danger')
            return redirect(url_for('form'))
        # –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö —Ñ–æ—Ä–º—ã
        flash('–§–æ—Ä–º–∞ —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞!', 'success')
        return redirect(url_for('form'))
    return render_template('form.html')


if __name__ == "__main__":
    app.run(debug=True)